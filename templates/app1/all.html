{% extends 'base.html' %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block title %}
    <title>All STUDENT</title>
    {% endblock %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
     <style>
        table {
            width: 90%;
            margin: 50px auto;
            border-collapse: collapse;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
        }
        th, td {
            padding: 12px 15px;
            border: 1px solid #ddd;
            text-align: center;
        }
        th {
            background-color: #0d6efd;
            color: rgb(173, 30, 30);
        }
        
        tr:hover {
            background-color: #356ca3;
        }
        .btn {
            padding: 5px 10px;
            border-radius: 5px;
            text-decoration: none;
            color: rgb(97, 34, 34);
        }
        .btn-edit {
            background-color: #198754;
        }
        .btn-delete {
            background-color: #dc3545;
        }
    </style>
</head>
{% block content %}
<body class="container mt-5">
    <form method="GET">
        {{form.as_p}}
        <button type="submit" class="btn btn-primary">SEARCH</button>
        <a href="{% url 'all' %}">
            <button type="button" class="btn btn-success">RESET</button>
        </a>

    </form>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th> first name </th>
                <th> last name</th>
                <th> date of birth </th>
                <th> city name</th>
                <th> roll name </th>
                <th>school name</th>
                <th> class name</th>
                <th> email</th>
                <th>phone number</th>
                <th>address</th>
                <th>year in school</th>
                <th>ACTION</th>
            </tr>
        </thead>
        <tbody>
            {% for record in page_obj %}
            <tr>
                <th>{{record.first_name}}</th>
                <td>{{record.last_name}}</td>
                <td>{{record.date_of_birth|date:"d-m-Y" }}</td>
                <td>{{record.city_name}}</td>
                <td>{{record.roll_number}}</td>
                <td>{{record.school_name}}</td>
                <td>{{record.class_name}}</td>
                <td>{{record.email}}</td>
                <td>{{record.phone_number}}</td>
                <td>{{record.address}}</td>
                <td>{{record.year_in_school}}</td>
                <td>
                <a href="{% url 'update' record.id %}" ><button class="btn btn-sm btn-warning">Edit</button></a>
                <a href="{% url 'delete' record.id %}"><button class="btn btn-sm btn-danger">Delete</button></a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

<div class="paginator">
<div >
    {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
    {% endif %}

    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}

    {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">Next</a>
    {% endif %}
</div>
</div>

</body>
{% endblock %}
</html>